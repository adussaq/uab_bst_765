globalObject={},globalObject.norm={},globalObject.norm.dist=function(a,t,n,e){e="undefined"==typeof e?!0:e;var o=[];if(isNaN(a)&&o.push("norm.dist: the x value "+a+" is not a number"),isNaN(t)&&o.push("norm.dist: the mean "+t+" is not a number"),isNaN(n)&&o.push("norm.dist: the standard deviation "+n+" is not a number"),o.length>0)throw new Error(o.join("; "));var s,i,r=(a-t)/n/Math.sqrt(2),h=r,d=r,b=2e-10,m=1,l=1e3;if(e===!0){do s=d,h*=-1*Math.pow(r,2)*(2*m-1)/(m*(2*m+1)),d+=h,m++;while(Math.abs((d-s)/d)>b&&l>m);var u=2/Math.sqrt(Math.PI)*d;i=Math.abs(u)>1&&a>t||1/0===Math.abs(u)?1:Math.abs(u)>1&&t>a?0:.5*(1+u)}else i=1/(n*Math.sqrt(2*Math.PI))*Math.pow(Math.E,-1/(2*Math.pow(n,2))*Math.pow(a-t,2));return i},globalObject.norm.inv=function(a,t,n){var e=[];if(isNaN(a)&&e.push("norm.inv: the probability "+a+" is not a number"),(a>1||0>a)&&e.push("norm.inv: the probability "+a+" should be between 0 and 1 including the bounds"),isNaN(t)&&e.push("norm.inv: the mean "+t+" is not a number"),isNaN(n)&&e.push("norm.inv: the standard deviation "+n+" is not a number"),!isNaN(n)&&0>n&&e.push("norm.inv: the standard deviation "+n+" should be positive"),e.length>0)throw new Error(e.join("; "));var o,s,i=1e-10,r=1e3,h=.25,d=1.2,b=.5,m=0,l=1,u=1;o=.5>a?-.5:a>.5?.5:0;do s=a-globalObject.norm.dist(o,0,1,!0),l=s>0?1:0>s?-1:0,h*=u*s>0?d:b,o+=l*h,u=s,m++;while(Math.abs(s)>i&&r>m);return o*n+t},self.onmessage=function(a){var t,n,e,o,s,i,r,h;for(e=a.data.samples,n=0,s=[],h=0,r=0,t=0;e>t;t+=1)o=Math.random()<a.data.uniform?globalObject.norm.inv(Math.random(),a.data.mean1,a.data.stdev1):globalObject.norm.inv(Math.random(),a.data.mean2,a.data.stdev2),n+=o,h+=Math.pow(o-a.data.mean,2),s.push(o);for(i=n/e,t=0;e>t;t+=1)r+=Math.pow(s[t]-i,2);self.postMessage({mean:i,stdev:r/(e-1),stdevCalc:h/(e-1)})};